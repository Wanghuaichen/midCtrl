# 软件结构说么

## 总体说明
1、serv 和业务逻辑服务器数据交互 通过http和返回数据做处理

2、utitly通用功能,如校验，添加校验等
3、dev
4、具体设备，设备分三类消息通信方式
1. 只有主动上报
2. 只有请求数据才会发
3. 请求和主动上报混合

## 问题
1. 网络延迟，导致数据分多包发送，一次读取不到完整的一条设备数据
2. 主服务器返回操作行为，如何关联设备执行操作
3. 同步也


## 解决
一个设备对应三个go协程，之间通过channle同步、通信
1.读协程，将数据读入方式channle中缓存
2.写协程，将数据发送给设备
3.处理协程，读数据处理发送数据

## 模块说明
### device模块
> 维护设备状态

### config模块
> 提供配置

### logger模块
> 提供log输出控制

### serv模块
> 提供和服务器交互功能